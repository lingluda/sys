webpackJsonp([11],{655:function(t,a,e){e(702);var s=e(38)(e(677),e(735),"data-v-dea487a2",null);s.options.__file="D:\\work\\stone-api\\webstatic\\sys\\src\\views\\comStoreManage\\comManage\\comManage.vue",s.esModule&&Object.keys(s.esModule).some(function(t){return"default"!==t&&"__esModule"!==t})&&console.error("named exports are not supported in *.vue files."),s.options.functional&&console.error("[vue-loader] comManage.vue: functional components are not supported with templates, they should use render functions."),t.exports=s.exports},677:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s=e(57),o=function(t){return t&&t.__esModule?t:{default:t}}(s);a.default={data:function(){var t=this,a=function(a,e,s){""===e?s(new Error("确认密码不能为空！")):e!==t.addAccountDate.password?s(new Error("两次输入的密码不相同！")):s()};return{loading:!0,status:1,total:0,size:12,page:1,comNameKeyWord:"",modalVerify:!1,addAccount:!1,addAccountCompanyId:0,addAccountDate:{account:"",password:"",confirmPassword:""},modalName:"",formItem:{},verifyStatus:"2",verifyStatus3:"3",auditOpinion:"",comId:"",auditOpinionShow:!1,modalView:!1,tabs:{1:"待审核",2:"已通过",3:"未通过"},columnsArr:[],dataArr:[],columnsPending:[{title:"序号",type:"index"},{title:"公司名称",key:"name"},{title:"公司地址",key:"address"},{title:"法人姓名",key:"legalPerson"},{title:"联系电话",key:"phone"},{title:"创建时间",key:"gmtCreate"},{title:"操作",key:"action",width:150,align:"center",render:function(a,e){return a("div",[a("Button",{props:{type:"primary"},on:{click:function(){t.verify(e.index,t.dataArr[e.index].name)}}},"审核")])}}],columnsPassed:[{title:"序号",type:"index"},{title:"公司名称",key:"name"},{title:"公司地址",key:"address"},{title:"联系电话",key:"phone"},{title:"创建时间",key:"gmtCreate"},{title:"操作",key:"action",width:150,align:"center",render:function(a,e){return a("div",[a("Button",{style:{marginRight:"10px"},on:{click:function(){t.addAccount=!0,t.addAccountCompanyId=e.row.id}}},"添加账号")])}}],columnsNoPass:[{title:"序号",type:"index"},{title:"公司名称",key:"name"},{title:"公司地址",key:"address"},{title:"法人姓名",key:"legalPerson"},{title:"联系电话",key:"phone"},{title:"创建时间",key:"gmtCreate"},{title:"操作",key:"action",width:150,align:"center",render:function(a,e){return a("div",[a("Button",{props:{type:"primary"},style:{marginRight:"5px"},on:{click:function(){t.view(e.index,t.dataArr[e.index].name)}}},"查看")])}}],ruleValidate:{account:[{required:!0,message:"账号不能为空"}],password:[{required:!0,message:"密码不能为空"}],confirmPassword:[{validator:a}]}}},created:function(){this.getData("1")},methods:{handleSubmit:function(t){var a=this;this.$refs[t].validate(function(t){if(t){var e={companyId:a.addAccountCompanyId,account:a.addAccountDate.account,password:a.addAccountDate.password};o.default.ajaxY("/sys/companyUser/insertSpread",e,function(t){"0"===t.code?(a.$Message.success("添加成功！"),a.addAccount=!1,a.addAccountDate={account:"",password:"",confirmPassword:""}):a.$Message.error(t.msg),a.$Message.destroy()},a)}})},getData:function(t){this.status=t;var a=this,e={status:this.status,name:o.default.trim(this.comNameKeyWord),pageIndex:this.page,pageSize:this.size};"1"===t?this.columnsArr=this.columnsPending:"2"===t?this.columnsArr=this.columnsPassed:"3"===t&&(this.columnsArr=this.columnsNoPass),o.default.ajaxY("/sys/company/list",e,function(t){"0"===t.code&&(a.dataSearchArr=a.dataArr=t.data.rows,a.total=t.data.total)},a)},getTabsData:function(t){this.comNameKeyWord="",this.page=1,this.getData(t)},verify:function(t,a){this.modalVerify=!0,this.modalName=a,this.formItem=this.dataArr[t],this.comId=this.formItem.id},verifySubmit:function(){if(!this.auditOpinion&&"2"!==this.verifyStatus)return this.$Message.error("审核意见不能为空！"),!1;var t=this,a={id:this.comId,auditOpinion:this.auditOpinion,status:this.verifyStatus};o.default.ajaxY("/sys/company/companyAudit",a,function(a){"0"===a.code&&(t.getData(t.status),t.$Message.success("审核成功！"))},t)},view:function(t,a){this.modalView=!0,this.modalName=a,this.formItem=this.dataArr[t]},statusChange:function(t){this.auditOpinionShow="2"!==t},searchFilter:function(){this.page=1,this.getData(this.status)},changePage:function(t){this.page=t,this.getData(this.status)}}}},702:function(t,a){},735:function(t,a,e){t.exports={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("Row",{staticClass:"margin-top-10 tab"},[e("Tabs",{attrs:{type:"card"},on:{"on-click":t.getTabsData}},t._l(t.tabs,function(a,s){return e("TabPane",{key:a,attrs:{label:a,name:s}},[e("div",{staticStyle:{"margin-bottom":"10px"}},[e("Input",{staticStyle:{width:"200px","margin-right":"10px"},attrs:{placeholder:"公司名称",clearable:""},model:{value:t.comNameKeyWord,callback:function(a){t.comNameKeyWord=a},expression:"comNameKeyWord"}}),t._v(" "),e("Button",{attrs:{type:"primary",icon:"ios-search"},on:{click:function(a){t.searchFilter()}}},[t._v("搜索")]),t._v(" "),e("Button",{staticClass:"margin-left-10",on:{click:function(a){t.comNameKeyWord=""}}},[t._v("取消")])],1),t._v(" "),e("Table",{attrs:{border:"",columns:t.columnsArr,data:t.dataArr}})],1)}))],1),t._v(" "),e("Page",{staticClass:"padding-left-10 taRit",attrs:{total:t.total,"page-size":t.size,"show-total":!0,index:11,current:t.page},on:{"on-change":t.changePage}}),t._v(" "),e("Modal",{attrs:{title:t.modalName,width:"1000"},on:{"on-ok":function(a){t.verifySubmit()}},model:{value:t.modalVerify,callback:function(a){t.modalVerify=a},expression:"modalVerify"}},[e("Form",{attrs:{model:t.formItem,"label-width":80}},[e("Row",{staticClass:"viewList"},[e("Col",{attrs:{span:"10"}},[e("p",[e("span",[t._v("公司名称")]),t._v(t._s(t.formItem.name))])]),t._v(" "),e("Col",{attrs:{span:"10",offset:"2"}},[e("p",[e("span",[t._v("企业法人")]),t._v(t._s(t.formItem.legalPerson))])])],1),t._v(" "),e("Row",{staticClass:"viewList"},[e("Col",{attrs:{span:"10"}},[e("p",[e("span",[t._v("公司地址")]),t._v(t._s(t.formItem.address))])]),t._v(" "),e("Col",{attrs:{span:"10",offset:"2"}},[e("p",[e("span",[t._v("联系电话")]),t._v(t._s(t.formItem.phone))])])],1),t._v(" "),e("Row",{staticClass:"viewList"},[e("Col",{attrs:{span:"10"}},[e("p",[e("span",[t._v("QQ")]),t._v(t._s(t.formItem.qq))])]),t._v(" "),e("Col",{attrs:{span:"10",offset:"2"}},[e("p",[e("span",[t._v("微信")]),t._v(t._s(t.formItem.wx))])])],1),t._v(" "),e("Row",{staticClass:"viewList"},[e("Col",{attrs:{span:"22"}},[e("Col",{attrs:{span:"3"}},[e("p",[e("span",[t._v("经营范围")])])]),t._v(" "),e("Col",{attrs:{span:"17"}},[e("p",[t._v(t._s(t.formItem.scope))])])],1)],1),t._v(" "),e("Row",{staticClass:"viewList"},[e("Col",{attrs:{span:"10"}},[e("p",[e("span",[t._v("账号类型")]),t._v(t._s(t.formItem.receivablesType))])]),t._v(" "),e("Col",{attrs:{span:"10",offset:"2"}},[e("p",[e("span",[t._v("收款人")]),t._v(t._s(t.formItem.receivablesName))])])],1),t._v(" "),e("Row",{staticClass:"viewList"},[e("Col",{attrs:{span:"10"}},[e("p",[e("span",[t._v("银行账户")]),t._v(t._s(t.formItem.receivablesAccount))])]),t._v(" "),e("Col",{attrs:{span:"10",offset:"2"}},[e("p",[e("span",[t._v("银行名")]),t._v(t._s(t.formItem.receivablesBank))])])],1),t._v(" "),e("Row",{staticClass:"viewList"},[e("Col",{attrs:{span:"10"}},[e("p",[e("span",[t._v("银行所在地")]),t._v(t._s(t.formItem.receivablesBankAddress))])]),t._v(" "),e("Col",{attrs:{span:"10",offset:"2"}},[e("FormItem",{attrs:{label:"处理结果"}},[e("RadioGroup",{on:{"on-change":function(a){t.statusChange(t.verifyStatus)}},model:{value:t.verifyStatus,callback:function(a){t.verifyStatus=a},expression:"verifyStatus"}},[e("Radio",{attrs:{label:"2"}},[t._v("通过")]),t._v(" "),e("Radio",{attrs:{label:"3"}},[t._v("未通过")])],1)],1)],1)],1),t._v(" "),e("Row",{directives:[{name:"show",rawName:"v-show",value:t.auditOpinionShow,expression:"auditOpinionShow"}]},[e("Col",{attrs:{span:"10",offset:"12"}},[e("FormItem",{attrs:{label:"审核意见"}},[e("Input",{attrs:{type:"textarea",autosize:{minRows:3,maxRows:5}},model:{value:t.auditOpinion,callback:function(a){t.auditOpinion=a},expression:"auditOpinion"}})],1)],1)],1)],1)],1),t._v(" "),e("Modal",{attrs:{title:t.modalName,width:"1000"},model:{value:t.modalView,callback:function(a){t.modalView=a},expression:"modalView"}},[e("Row",{staticClass:"viewList"},[e("Col",{attrs:{span:"10"}},[e("p",[e("span",[t._v("公司名称")]),t._v(t._s(t.formItem.name))])]),t._v(" "),e("Col",{attrs:{span:"10",offset:"2"}},[e("p",[e("span",[t._v("企业法人")]),t._v(t._s(t.formItem.legalPerson))])])],1),t._v(" "),e("Row",{staticClass:"viewList"},[e("Col",{attrs:{span:"10"}},[e("p",[e("span",[t._v("公司地址")]),t._v(t._s(t.formItem.address))])]),t._v(" "),e("Col",{attrs:{span:"10",offset:"2"}},[e("p",[e("span",[t._v("联系电话")]),t._v(t._s(t.formItem.phone))])])],1),t._v(" "),e("Row",{staticClass:"viewList"},[e("Col",{attrs:{span:"10"}},[e("p",[e("span",[t._v("QQ")]),t._v(t._s(t.formItem.qq))])]),t._v(" "),e("Col",{attrs:{span:"10",offset:"2"}},[e("p",[e("span",[t._v("微信")]),t._v(t._s(t.formItem.wx))])])],1),t._v(" "),e("Row",{staticClass:"viewList"},[e("Col",{attrs:{span:"3"}},[e("p",[e("span",[t._v("经营范围")])])]),t._v(" "),e("Col",{attrs:{span:"17"}},[e("p",[t._v(t._s(t.formItem.scope))])])],1),t._v(" "),e("Row",{staticClass:"viewList"},[e("Col",{attrs:{span:"10"}},[e("p",[e("span",[t._v("账号类型")]),t._v(t._s(t.formItem.receivablesType))])]),t._v(" "),e("Col",{attrs:{span:"10",offset:"2"}},[e("p",[e("span",[t._v("收款人")]),t._v(t._s(t.formItem.receivablesName))])])],1),t._v(" "),e("Row",{staticClass:"viewList"},[e("Col",{attrs:{span:"10"}},[e("p",[e("span",[t._v("银行账户")]),t._v(t._s(t.formItem.receivablesAccount))])]),t._v(" "),e("Col",{attrs:{span:"10",offset:"2"}},[e("p",[e("span",[t._v("银行名")]),t._v(t._s(t.formItem.receivablesBank))])])],1),t._v(" "),e("Row",{staticClass:"viewList"},[e("Col",{attrs:{span:"10"}},[e("p",[e("span",[t._v("银行所在地")]),t._v(t._s(t.formItem.receivablesBankAddress))])]),t._v(" "),e("Col",{attrs:{span:"10",offset:"2"}},[e("p",[e("span",[t._v("审核意见")]),t._v(t._s(t.formItem.auditOpinion))])])],1)],1),t._v(" "),e("Modal",{attrs:{title:"添加账号",width:"500"},model:{value:t.addAccount,callback:function(a){t.addAccount=a},expression:"addAccount"}},[e("Form",{ref:"addAccount",attrs:{"label-width":80,rules:t.ruleValidate,model:t.addAccountDate}},[e("FormItem",{attrs:{label:"账号",prop:"account"}},[e("Input",{attrs:{col:"span"},model:{value:t.addAccountDate.account,callback:function(a){t.$set(t.addAccountDate,"account",a)},expression:"addAccountDate.account"}})],1),t._v(" "),e("FormItem",{attrs:{label:"密码",prop:"password"}},[e("Input",{attrs:{type:"password",col:"span"},model:{value:t.addAccountDate.password,callback:function(a){t.$set(t.addAccountDate,"password",a)},expression:"addAccountDate.password"}})],1),t._v(" "),e("FormItem",{attrs:{label:"确认密码",prop:"confirmPassword"}},[e("Input",{attrs:{type:"password",col:"span"},model:{value:t.addAccountDate.confirmPassword,callback:function(a){t.$set(t.addAccountDate,"confirmPassword",a)},expression:"addAccountDate.confirmPassword"}})],1),t._v(" "),e("FormItem",[e("Button",{attrs:{type:"primary"},on:{click:function(a){t.handleSubmit("addAccount")}}},[t._v("提交")])],1)],1),t._v(" "),e("div",{attrs:{slot:"footer"},slot:"footer"})],1)],1)},staticRenderFns:[]},t.exports.render._withStripped=!0}});