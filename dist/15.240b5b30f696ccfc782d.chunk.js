webpackJsonp([15],{663:function(e,t,o){var a=o(38)(o(685),o(725),null,null);a.options.__file="D:\\work\\stone-api\\webstatic\\sys\\src\\views\\dicBase\\proName\\proName.vue",a.esModule&&Object.keys(a.esModule).some(function(e){return"default"!==e&&"__esModule"!==e})&&console.error("named exports are not supported in *.vue files."),a.options.functional&&console.error("[vue-loader] proName.vue: functional components are not supported with templates, they should use render functions."),e.exports=a.exports},685:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=o(57),i=function(e){return e&&e.__esModule?e:{default:e}}(a);t.default={data:function(){var e=this;return{imgUrl:"",tabload:!0,total:0,size:12,page:1,searchDate:{name:"",dicTypeCode:""},columns:[{title:"序号",type:"index",width:90,align:"center"},{title:"来源",key:"source"},{title:"品名",key:"name"},{title:"类别",key:"dicTypeContext"},{title:"产地",key:"place_of_origin"},{title:"底色",key:"dicBackgroundContext"},{title:"纹路",key:"dicLinesContext"},{title:"纹理颜色",key:"dicLinesColorContext"},{title:"创建时间",key:"gmt_create"},{title:"更新时间",key:"gmt_modified"},{title:"操作",width:200,render:function(t,o){return t("div",[t("Button",{props:{size:"small"},style:{marginRight:"5px"},on:{click:function(){e.getInfo(o.row.id),e.mod.edit=!0}}},"编辑"),t("Button",{props:{size:"small"},style:{marginRight:"5px"},on:{click:function(){e.curId=o.row.id,e.mod.del=!0}}},"删除")])}}],formValidate:{companyId:0,name:"",placeOfOrigin:"",dicTypeCode:"",dicTypeContext:"",dicBackgroundCode:"",dicBackgroundContext:"",dicLinesCode:"",dicLinesContext:"",dicLinesColorCode:"",dicLinesColorContext:"",source:"平台",function:"",application:"",announcement:""},formEdit:{companyId:0,name:"",placeOfOrigin:"",dicTypeCode:"",dicTypeContext:"",dicBackgroundCode:"",dicBackgroundContext:"",dicLinesCode:"",dicLinesContext:"",dicLinesColorCode:"",dicLinesColorContext:"",source:"平台",function:"",application:"",announcement:""},ruleValidate:{name:[{required:!0,message:"请输入名称"}],placeOfOrigin:[{required:!0,message:"产地"}],dicTypeCode:[{required:!0,message:"请选择类型"}],dicBackgroundCode:[{required:!0,message:"请选择底色"}],dicLinesCode:[{required:!0,message:"请选择纹路"}],dicLinesColorCode:[{required:!0,message:"请选择纹路颜色"}]},dts:[],proType:[],dicBackgroundCode:[],dicLinesCode:[],dicLinesColorCode:[],mod:{add:!1,edit:!1,showimg:!1,del:!1},loading:{add:!0}}},created:function(){this.getData(),this.getType(),this.getBackgroundCode(),this.getLinesCode(),this.getLinesColorCode()},methods:{getData:function(){var e=this;i.default.ajaxY("/sys/product/list",{companyId:0,dicTypeCode:e.searchDate.dicTypeCode,name:this.trim(e.searchDate.name),pageIndex:this.page,pageSize:this.size},function(t){0==t.code&&(e.dts=t.data.rows,e.total=t.data.total)},e)},getInfo:function(e){var t=this;i.default.ajaxY("/sys/product/info",{id:e},function(e){0==e.code&&(t.$refs.formEdit.resetFields(),t.formEdit=e.data,t.mod.edit=!0)},t)},changeTypeCode:function(e){this.formValidate.dicTypeContext=e.label},changeBackgroundCode:function(e){this.formValidate.dicBackgroundContext=e.label},changeLinesCode:function(e){this.formValidate.dicLinesContext=e.label},changeLinesColorCode:function(e){this.formValidate.dicLinesColorContext=e.label},getType:function(){var e=this;i.default.ajaxY("/sys/dicBase/list",{code:6,pageIndex:1,pageSize:999},function(t){0==t.code&&(e.proType=t.data.rows)},e)},getBackgroundCode:function(){var e=this;i.default.ajaxY("/sys/dicBase/list",{code:5,pageIndex:1,pageSize:999},function(t){0==t.code&&(e.dicBackgroundCode=t.data.rows)},e)},getLinesCode:function(){var e=this;i.default.ajaxY("/sys/dicBase/list",{code:4,pageIndex:1,pageSize:999},function(t){0==t.code&&(e.dicLinesCode=t.data.rows)},e)},getLinesColorCode:function(){var e=this;i.default.ajaxY("/sys/dicBase/list",{code:3,pageIndex:1,pageSize:999},function(t){0==t.code&&(e.dicLinesColorCode=t.data.rows)},e)},addbt:function(){this.$refs.formValidate.resetFields(),this.mod.add=!0},contrAddfn:function(){var e=this;this.$refs.formValidate.validate(function(t){t&&i.default.ajaxY("/sys/product/insert",e.formValidate,function(t){0==t.code&&(e.mod.add=!1,e.$Message.info("成功"),e.getData())},e)})},contrEditfn:function(){var e=this;this.$refs.formEdit.validate(function(t){t&&i.default.ajaxY("/sys/product/update",e.formEdit,function(t){0==t.code&&(e.mod.edit=!1,e.$Message.info("成功"),e.getData())},e)})},deleteFn:function(){var e=this;i.default.ajaxY("/sys/product/del",{id:this.curId},function(t){console.log(t.code),0==t.code&&(e.$Message.info(t.msg),e.mod.del=!1,e.getData())},e)},changePage:function(e){this.page=e,this.getData()},searchfn:function(){var e=this;this.page=1,e.getData()},canclefn:function(){this.searchDate={name:"",dicTypeCode:""},this.page=1,this.getData()},trim:function(e){return e.replace(/^(\s|\xA0)+|(\s|\xA0)+$/g,"")}}}},725:function(e,t,o){e.exports={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("Row",[o("Input",{staticStyle:{width:"200px"},attrs:{placeholder:"品名查询"},model:{value:e.searchDate.name,callback:function(t){e.$set(e.searchDate,"name",t)},expression:"searchDate.name"}}),e._v(" "),o("Select",{staticStyle:{width:"120px"},attrs:{placeholder:"所有类别"},model:{value:e.searchDate.dicTypeCode,callback:function(t){e.$set(e.searchDate,"dicTypeCode",t)},expression:"searchDate.dicTypeCode"}},e._l(e.proType,function(t){return o("Option",{key:t.id,attrs:{value:t.id}},[e._v(e._s(t.content))])})),e._v(" "),o("span",{staticStyle:{margin:"0 8px"},on:{click:e.searchfn}},[o("Button",{attrs:{type:"primary",icon:"ios-search"}},[e._v("\n          搜索")])],1),e._v(" "),o("Button",{attrs:{type:"ghost"},on:{click:e.canclefn}},[e._v("取消")]),e._v(" "),o("Button",{staticClass:"margin-left-10",attrs:{type:"info"},on:{click:e.addbt}},[e._v("新增")]),e._v(" "),o("Modal",{attrs:{width:"360"},model:{value:e.mod.del,callback:function(t){e.$set(e.mod,"del",t)},expression:"mod.del"}},[o("p",{staticStyle:{color:"#f60","text-align":"center"},attrs:{slot:"header"},slot:"header"},[o("Icon",{attrs:{type:"information-circled"}}),e._v(" "),o("span",[e._v("提示")])],1),e._v(" "),o("div",{staticStyle:{"text-align":"center"}},[o("p",[e._v("确定要删除？")])]),e._v(" "),o("div",{attrs:{slot:"footer"},slot:"footer"},[o("Button",{attrs:{type:"error",size:"large",long:""},on:{click:function(t){e.deleteFn()}}},[e._v("确定")])],1)]),e._v(" "),o("Modal",{attrs:{title:"新增",width:"580"},model:{value:e.mod.add,callback:function(t){e.$set(e.mod,"add",t)},expression:"mod.add"}},[o("Form",{ref:"formValidate",attrs:{model:e.formValidate,rules:e.ruleValidate,"label-width":86}},[o("FormItem",{attrs:{label:"品名：",prop:"name"}},[o("Input",{model:{value:e.formValidate.name,callback:function(t){e.$set(e.formValidate,"name",t)},expression:"formValidate.name"}})],1),e._v(" "),o("FormItem",{attrs:{label:"类别：",prop:"dicTypeCode"}},[o("Select",{attrs:{placeholder:"请选择","label-in-value":!0},on:{"on-change":e.changeTypeCode},model:{value:e.formValidate.dicTypeCode,callback:function(t){e.$set(e.formValidate,"dicTypeCode",t)},expression:"formValidate.dicTypeCode"}},e._l(e.proType,function(t){return o("Option",{key:t.id,attrs:{value:t.id}},[e._v(e._s(t.content))])}))],1),e._v(" "),o("FormItem",{attrs:{label:"产地：",prop:"placeOfOrigin"}},[o("Input",{model:{value:e.formValidate.placeOfOrigin,callback:function(t){e.$set(e.formValidate,"placeOfOrigin",t)},expression:"formValidate.placeOfOrigin"}})],1),e._v(" "),o("FormItem",{attrs:{label:"底色：",prop:"dicBackgroundCode"}},[o("Select",{attrs:{placeholder:"请选择","label-in-value":!0},on:{"on-change":e.changeBackgroundCode},model:{value:e.formValidate.dicBackgroundCode,callback:function(t){e.$set(e.formValidate,"dicBackgroundCode",t)},expression:"formValidate.dicBackgroundCode"}},e._l(e.dicBackgroundCode,function(t){return o("Option",{key:t.id,attrs:{value:t.id}},[e._v(e._s(t.content))])}))],1),e._v(" "),o("FormItem",{attrs:{label:"纹路：",prop:"dicLinesCode"}},[o("Select",{attrs:{placeholder:"请选择","label-in-value":!0},on:{"on-change":e.changeLinesCode},model:{value:e.formValidate.dicLinesCode,callback:function(t){e.$set(e.formValidate,"dicLinesCode",t)},expression:"formValidate.dicLinesCode"}},e._l(e.dicLinesCode,function(t){return o("Option",{key:t.id,attrs:{value:t.id}},[e._v(e._s(t.content))])}))],1),e._v(" "),o("FormItem",{attrs:{label:"纹路颜色：",prop:"dicLinesColorCode"}},[o("Select",{attrs:{placeholder:"请选择","label-in-value":!0},on:{"on-change":e.changeLinesColorCode},model:{value:e.formValidate.dicLinesColorCode,callback:function(t){e.$set(e.formValidate,"dicLinesColorCode",t)},expression:"formValidate.dicLinesColorCode"}},e._l(e.dicLinesColorCode,function(t){return o("Option",{key:t.id,attrs:{value:t.id}},[e._v(e._s(t.content))])}))],1),e._v(" "),o("FormItem",{attrs:{label:"功能："}},[o("Input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:5},placeholder:"Enter something..."},model:{value:e.formValidate.function,callback:function(t){e.$set(e.formValidate,"function",t)},expression:"formValidate.function"}})],1),e._v(" "),o("FormItem",{attrs:{label:"应用场景："}},[o("Input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:5},placeholder:"Enter something..."},model:{value:e.formValidate.application,callback:function(t){e.$set(e.formValidate,"application",t)},expression:"formValidate.application"}})],1),e._v(" "),o("FormItem",{attrs:{label:"注意事项："}},[o("Input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:5},placeholder:"Enter something..."},model:{value:e.formValidate.announcement,callback:function(t){e.$set(e.formValidate,"announcement",t)},expression:"formValidate.announcement"}})],1)],1),e._v(" "),o("div",{attrs:{slot:"footer"},slot:"footer"},[o("Button",{attrs:{type:"info",size:"large"},on:{click:e.contrAddfn}},[e._v("确定")])],1)],1),e._v(" "),o("Modal",{attrs:{title:"编辑",width:"580"},model:{value:e.mod.edit,callback:function(t){e.$set(e.mod,"edit",t)},expression:"mod.edit"}},[o("Form",{ref:"formEdit",attrs:{model:e.formEdit,rules:e.ruleValidate,"label-width":86}},[o("FormItem",{attrs:{label:"品名：",prop:"name"}},[o("Input",{model:{value:e.formEdit.name,callback:function(t){e.$set(e.formEdit,"name",t)},expression:"formEdit.name"}})],1),e._v(" "),o("FormItem",{attrs:{label:"类别：",prop:"dicTypeCode"}},[o("Select",{attrs:{placeholder:"请选择","label-in-value":!0},on:{"on-change":e.changeTypeCode},model:{value:e.formEdit.dicTypeCode,callback:function(t){e.$set(e.formEdit,"dicTypeCode",t)},expression:"formEdit.dicTypeCode"}},e._l(e.proType,function(t){return o("Option",{key:t.id,attrs:{value:t.id}},[e._v(e._s(t.content))])}))],1),e._v(" "),o("FormItem",{attrs:{label:"产地：",prop:"placeOfOrigin"}},[o("Input",{model:{value:e.formEdit.placeOfOrigin,callback:function(t){e.$set(e.formEdit,"placeOfOrigin",t)},expression:"formEdit.placeOfOrigin"}})],1),e._v(" "),o("FormItem",{attrs:{label:"底色：",prop:"dicBackgroundCode"}},[o("Select",{attrs:{placeholder:"请选择","label-in-value":!0},on:{"on-change":e.changeBackgroundCode},model:{value:e.formEdit.dicBackgroundCode,callback:function(t){e.$set(e.formEdit,"dicBackgroundCode",t)},expression:"formEdit.dicBackgroundCode"}},e._l(e.dicBackgroundCode,function(t){return o("Option",{key:t.id,attrs:{value:t.id}},[e._v(e._s(t.content))])}))],1),e._v(" "),o("FormItem",{attrs:{label:"纹路：",prop:"dicLinesCode"}},[o("Select",{attrs:{placeholder:"请选择","label-in-value":!0},on:{"on-change":e.changeLinesCode},model:{value:e.formEdit.dicLinesCode,callback:function(t){e.$set(e.formEdit,"dicLinesCode",t)},expression:"formEdit.dicLinesCode"}},e._l(e.dicLinesCode,function(t){return o("Option",{key:t.id,attrs:{value:t.id}},[e._v(e._s(t.content))])}))],1),e._v(" "),o("FormItem",{attrs:{label:"纹路颜色：",prop:"dicLinesColorCode"}},[o("Select",{attrs:{placeholder:"请选择","label-in-value":!0},on:{"on-change":e.changeLinesColorCode},model:{value:e.formEdit.dicLinesColorCode,callback:function(t){e.$set(e.formEdit,"dicLinesColorCode",t)},expression:"formEdit.dicLinesColorCode"}},e._l(e.dicLinesColorCode,function(t){return o("Option",{key:t.id,attrs:{value:t.id}},[e._v(e._s(t.content))])}))],1),e._v(" "),o("FormItem",{attrs:{label:"功能："}},[o("Input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:5},placeholder:"Enter something..."},model:{value:e.formEdit.function,callback:function(t){e.$set(e.formEdit,"function",t)},expression:"formEdit.function"}})],1),e._v(" "),o("FormItem",{attrs:{label:"应用场景："}},[o("Input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:5},placeholder:"Enter something..."},model:{value:e.formEdit.application,callback:function(t){e.$set(e.formEdit,"application",t)},expression:"formEdit.application"}})],1),e._v(" "),o("FormItem",{attrs:{label:"注意事项："}},[o("Input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:5},placeholder:"Enter something..."},model:{value:e.formEdit.announcement,callback:function(t){e.$set(e.formEdit,"announcement",t)},expression:"formEdit.announcement"}})],1)],1),e._v(" "),o("div",{attrs:{slot:"footer"},slot:"footer"},[o("Button",{attrs:{type:"info",size:"large"},on:{click:function(t){e.contrEditfn()}}},[e._v("确定")])],1)],1)],1),e._v(" "),o("Row",{staticClass:"margin-top-10 tab minW"},[o("Table",{staticClass:"bgW",attrs:{loading:e.tabload,size:"small",stripe:"",border:"",columns:e.columns,data:e.dts}})],1),e._v(" "),o("Page",{staticClass:"taRit",attrs:{total:e.total,"page-size":e.size,"show-total":!0,current:e.page},on:{"on-change":e.changePage}})],1)},staticRenderFns:[]},e.exports.render._withStripped=!0}});